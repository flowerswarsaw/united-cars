# United Cars - Environment Configuration
# Copy this file to .env.local and configure appropriate values

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=development
PORT=3000
HOST=localhost

# Application Info
APP_NAME="United Cars"
APP_VERSION="1.0.0"
BUILD_ID="local"
COMMIT_SHA="unknown"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL connection URL
DATABASE_URL="postgresql://postgres:password@localhost:5434/united_cars"

# Database connection settings
DB_MAX_CONNECTIONS=10
DB_CONNECTION_TIMEOUT=30000
DB_STATEMENT_TIMEOUT=60000
DB_IDLE_TIMEOUT=300000

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# NextAuth configuration (REQUIRED)
NEXTAUTH_SECRET="your-very-long-and-secure-secret-key-here-at-least-32-characters"
NEXTAUTH_URL="http://localhost:3000"

# Session configuration
SESSION_MAX_AGE=2592000  # 30 days
JWT_MAX_AGE=86400        # 24 hours
BCRYPT_ROUNDS=12         # Password hashing rounds

# API Keys (optional)
# API_KEY_INTERNAL="your-internal-api-key-32-characters-minimum"
# API_KEY_EXTERNAL="your-external-api-key-32-characters-minimum"

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
# CORS origins (comma-separated URLs for production)
# CORS_ORIGINS="https://yourdomain.com,https://app.yourdomain.com"

# Rate limiting
RATE_LIMIT_WINDOW=900000  # 15 minutes in milliseconds
RATE_LIMIT_MAX=100        # Max requests per window

# Security features
CSRF_PROTECTION=true
CSP_ENABLED=true
HTTPS_REDIRECT=false      # Set to true in production
HSTS_ENABLED=false        # Set to true in production
HSTS_MAX_AGE=31536000     # 1 year in seconds

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
MAX_FILE_SIZE=10485760    # 10MB in bytes
ALLOWED_MIME_TYPES="image/jpeg,image/png,image/webp,application/pdf"
UPLOAD_PATH="/tmp/uploads"
VIRUS_SCANNING=false

# =============================================================================
# EXTERNAL SERVICES (optional)
# =============================================================================
# Redis connection for caching and job queues
REDIS_URL="redis://localhost:6379"

# Email configuration
# SMTP_HOST="smtp.example.com"
# SMTP_PORT=587
# SMTP_SECURE=true
# SMTP_USER="your-email@example.com"
# SMTP_PASSWORD="your-smtp-password"
# EMAIL_FROM="noreply@yourdomain.com"
# EMAIL_FROM_NAME="United Cars"

# External API integrations
CARFAX_API_KEY=""
STRIPE_SECRET_KEY=""
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""

# =============================================================================
# MONITORING & OBSERVABILITY (optional)
# =============================================================================
# Error tracking
# SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"

# Metrics and monitoring
# DATADOG_API_KEY="your-datadog-api-key"

# Logging configuration
LOG_LEVEL=info            # debug, info, warn, error, critical
ENABLE_METRICS=true
ENABLE_TRACING=false
TRACING_SAMPLE_RATE=0.1

# =============================================================================
# CACHING
# =============================================================================
CACHE_TTL=3600           # Default cache TTL in seconds
CACHE_MAX_MEMORY=100     # Max memory usage in MB
CACHE_COMPRESSION=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Enable/disable features
FEATURE_NEW_DASHBOARD=false
FEATURE_ADVANCED_SEARCH=true
FEATURE_FILE_UPLOAD_V2=false
FEATURE_NOTIFICATIONS=true
FEATURE_AUDIT_LOGGING=true
FEATURE_PERFORMANCE_MONITORING=true

# =============================================================================
# DEVELOPMENT/TESTING OVERRIDES
# =============================================================================
# Test database (used during testing)
TEST_DATABASE_URL="postgresql://postgres:password@localhost:5434/united_cars_test"

# Playwright testing
PLAYWRIGHT_BASE_URL="http://localhost:3000"

# =============================================================================
# PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
# These variables should be set in your production environment:
#
# Required:
# - NODE_ENV=production
# - DATABASE_URL=postgresql://user:pass@host:port/dbname?ssl=true
# - NEXTAUTH_SECRET=64-character-random-string
# - NEXTAUTH_URL=https://yourdomain.com
#
# Recommended:
# - HTTPS_REDIRECT=true
# - HSTS_ENABLED=true
# - CORS_ORIGINS=https://yourdomain.com
# - SENTRY_DSN=your-sentry-dsn
# - LOG_LEVEL=warn
#
# Security:
# - API_KEY_INTERNAL=your-secure-32-char-key
# - API_KEY_EXTERNAL=your-secure-32-char-key
# - All sensitive data should be stored securely (not in .env files)

# =============================================================================
# NOTES
# =============================================================================
# 1. Never commit .env files to version control
# 2. Use environment-specific configurations (.env.local, .env.production)
# 3. Store secrets in secure systems (AWS Secrets Manager, etc.) in production
# 4. Validate all environment variables on application startup
# 5. Use strong, randomly generated secrets for production
# 6. Enable all security features in production environments